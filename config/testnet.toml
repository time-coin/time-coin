# TIME Coin Testnet Configuration

[node]
network = "testnet"
mode = "production"

[blockchain]
# Genesis block configuration
# Path to genesis block JSON file (only used if load_genesis_from_file is true)
genesis_file = "$HOME/.timecoin/data/genesis-testnet.json"

# Allow loading genesis from file during testnet reset
# When false: Genesis must be downloaded from peers (production mode)
# When true: Will load genesis from genesis_file if blockchain is empty
# NOTE: Set to true during testnet migration to new PoT genesis
# TODO: Set to false after all nodes have migrated
load_genesis_from_file = true

data_dir = "$HOME/.timecoin/data"

# Allow creating missing historical blocks via consensus during testnet reset
# When false: Only download blocks from peers, never recreate (production mode)
# When true: Create missing blocks via BFT consensus if peers don't have them
# NOTE: Enabled during testnet migration to help network recover
# TODO: Set to false after network is stable
allow_block_recreation = true

[network]
listen_addr = "0.0.0.0:24100"
external_addr = ""
bootstrap_nodes = []
peer_discovery_url = "https://time-coin.io/api/peers"

[masternode]
enabled = true

[rpc]
enabled = true
bind = "0.0.0.0"
port = 24101

[storage]
data_dir = "$HOME/.timecoin/data"

[logging]
level = "info"

[sync]
# Midnight window configuration for periodic chain sync
# When enabled, periodic network updates are conditionally skipped during a configurable 
# time window around midnight to avoid interference with consensus operations

# Enable/disable midnight window sync skipping (default: true)
midnight_window_enabled = true

# Hour to start the midnight window (24-hour format, default: 23 = 11 PM UTC)
midnight_window_start_hour = 23

# Hour to end the midnight window (24-hour format, default: 1 = 1 AM UTC)
# This creates a 2-hour window from 11 PM to 1 AM by default
midnight_window_end_hour = 1

# Whether to check if consensus is actively running before skipping sync (default: true)
# If true, sync is only skipped when in the midnight window AND consensus is active
# If false, sync is skipped whenever in the midnight window
midnight_window_check_consensus = true
