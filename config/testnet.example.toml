# TIME Coin Testnet Configuration

[node]
# Operating mode: "production" or "dev"
# Dev mode: Single-node testing, auto-approves transactions
# Production: Full BFT consensus with multiple masternodes
mode = "dev"
name = "testnet-node"
data_dir = "$HOME/time-coin-node/data"
log_dir = "$HOME/time-coin-node/logs"

[network]
network_type = "testnet"
listen_addr = "0.0.0.0:24100"
external_addr = "YOUR_PUBLIC_IP:24100"
port = 24100
max_peers = 50

[rpc]
enabled = true
bind = "0.0.0.0"
port = 24101

[blockchain]
# Path to genesis block
genesis_file = "$HOME/time-coin-node/data/genesis.json"
data_dir = "$HOME/time-coin-node/data/blockchain"

[consensus]
# Dev mode settings
dev_mode = true              # Enable single-node testing
auto_approve = true          # Auto-approve transactions
mock_masternodes = 0         # Number of virtual masternodes (0 = none)

# Production mode settings (used when mode = "production")
min_quorum_size = 7          # Minimum masternodes for consensus
vote_threshold = 0.67        # 67% = 2/3+ votes required
max_quorum_size = 50         # Maximum quorum size

[masternode]
enabled = true
tier = "Community"
collateral = 1000
testnet_mode = true
testnet_auto_fund = true

[sync]
# Midnight window configuration for periodic chain sync
# When enabled, periodic network updates are conditionally skipped during a configurable 
# time window around midnight to avoid interference with consensus operations

# Enable/disable midnight window sync skipping (default: true)
midnight_window_enabled = true

# Hour to start the midnight window (24-hour format, default: 23 = 11 PM UTC)
midnight_window_start_hour = 23

# Hour to end the midnight window (24-hour format, default: 1 = 1 AM UTC)
# This creates a 2-hour window from 11 PM to 1 AM by default
midnight_window_end_hour = 1

# Whether to check if consensus is actively running before skipping sync (default: true)
# If true, sync is only skipped when in the midnight window AND consensus is active
# If false, sync is skipped whenever in the midnight window
midnight_window_check_consensus = true

[logging]
level = "info"
file = "$HOME/time-coin-node/logs/node.log"
max_size = "100MB"
max_backups = 5
